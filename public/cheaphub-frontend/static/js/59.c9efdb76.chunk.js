(this.webpackJsonpSeamless=this.webpackJsonpSeamless||[]).push([[59],{1604:function(e,t,a){"use strict";a.r(t);var n=a(10),s=a(8),r=a(3),c=a.n(r),o=a(1),i=a(541),u=a(488),l=a(535),d=a(72),p=a(492),b=a(149),m=a(148),f=(a(491),a(513)),h=a(490),j=a(96),x=(a(511),a(518)),O=a(134),g=a(136),v=a(14),w={password:"",loginEmail:""};t.default=function(){Object(l.a)().skin;var e=Object(d.b)(),t=Object(i.g)(),r=Object(o.useContext)(m.a),k=Object(p.e)({defaultValues:w}),N=k.control,y=k.setError,S=k.handleSubmit,E=k.formState.errors,C=a(561)("./".concat("new-login-avatar.svg")).default,_=function(){var a=Object(s.a)(c.a.mark((function a(o){var i,u,l;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!Object.values(o).every((function(e){return e.length>0}))){a.next=7;break}return i={email:o.loginEmail,password:o.password},e(Object(g.b)()),a.next=5,x.a(i).then(function(){var a=Object(s.a)(c.a.mark((function a(s){var o;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s.success?(u=s.data.accessToken,localStorage.setItem(O.f.ACCESS_TOKEN,s.data.accessToken),s.ability=[{action:"manage",subject:"all"}],o=Object(n.a)(Object(n.a)({},s),{},{accessToken:u,refreshToken:u}),e(Object(b.b)(o)),r.update(s.ability),t.push(Object(h.j)(s.login)),e(Object(g.b)()),Object(h.c)("Welcome,".concat(O.c),1,"You have successfully logged in ".concat(O.c,". Now you can start to explore. Enjoy!"))):(Object(h.c)(s.message,s.status),e(Object(g.b)()));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 5:a.next=8;break;case 7:for(l in o)0===o[l].length&&y(l,{type:"manual"});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"auth-wrapper auth-cover",children:Object(v.jsxs)(j.ib,{className:"auth-inner m-0",children:[Object(v.jsx)(u.b,{className:"brand-logo",to:"/",onClick:function(e){return e.preventDefault()}}),Object(v.jsx)(j.B,{className:"d-none d-lg-flex align-items-center p-5",lg:"8",sm:"12",children:Object(v.jsx)("div",{className:"w-100 d-lg-flex align-items-center justify-content-center px-5",children:Object(v.jsx)("img",{className:"img-fluid",src:C,alt:"Login Cover"})})}),Object(v.jsx)(j.B,{className:"d-flex align-items-center auth-bg px-2 p-lg-5",lg:"4",sm:"12",children:Object(v.jsxs)(j.B,{className:"px-xl-2 mx-auto",sm:"8",md:"6",lg:"12",children:[Object(v.jsx)("div",{className:"justify-content-center d-flex mb-5",children:Object(v.jsx)("img",{src:a(844).default,alt:"logo",width:139,height:131})}),Object(v.jsxs)(j.H,{className:"auth-login-form mt-2",onSubmit:S(_),children:[Object(v.jsxs)("div",{className:"mb-1",children:[Object(v.jsx)(j.N,{className:"form-label",for:"login-email",children:"User Name"}),Object(v.jsx)(p.a,{id:"loginEmail",name:"loginEmail",control:N,render:function(e){var t=e.field;return Object(v.jsx)(j.K,Object(n.a)({autoFocus:!0,placeholder:"User Name",invalid:E.loginEmail&&!0},t))}})]}),Object(v.jsxs)("div",{className:"mb-1",children:[Object(v.jsx)("div",{className:"d-flex justify-content-between",children:Object(v.jsx)(j.N,{className:"form-label",for:"login-password",children:"Password"})}),Object(v.jsx)(p.a,{id:"password",name:"password",control:N,render:function(e){var t=e.field;return Object(v.jsx)(f.a,Object(n.a)({className:"input-group-merge",invalid:E.password&&!0},t))}})]}),Object(v.jsxs)("div",{className:"form-check mb-1",children:[Object(v.jsx)(j.K,{type:"checkbox",id:"remember-me"}),Object(v.jsx)(j.N,{className:"form-check-label",for:"remember-me",children:"Remember Me"})]}),Object(v.jsx)(j.i,{type:"submit",color:"primary",block:!0,children:"Sign in"})]})]})})]})})}},493:function(e,t,a){"use strict";var n,s=a(8),r=a(3),c=a.n(r),o=a(7),i=a.n(o),u={serverUrl:"http://154.53.41.231",basePath:"api/v1",redirect:""},l=a(134),d=a(490),p=a(518),b=a(578),m=a.n(b),f={},h=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={refresh_token:localStorage.getItem(l.f.REFRESH_TOKEN),grant_type:"refresh_token"},e.next=3,p.c(m.a.stringify(n)).then(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.access_token){e.next=10;break}return Cookies.set(l.f.ACCESS_TOKEN,n.access_token),localStorage.setItem(l.f.ACCESS_TOKEN,n.access_token),Cookies.set(l.f.REFRESH_TOKEN,n.refresh_token),localStorage.setItem(l.f.REFRESH_TOKEN,n.refresh_token),e.next=7,j(t);case 7:a=e.sent,e.next=15;break;case 10:return e.next=12,d.q();case 12:return e.next=14,d.a();case 14:window.location.reload();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,r,o,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"post"!==(a=t.method?t.method.toLowerCase():"get")&&"put"!==a&&"patch"!==a||(f=t.body?t.body:{}),n={"Content-Type":t.urlencoded?"application/x-www-form-urlencoded":t.multipart?"multipart/form-data":"application/json"},t.authentication&&(r=localStorage.getItem(l.f.ACCESS_TOKEN))&&(n.Authorization="Bearer ".concat(r)),t.isBasicAuth&&(n.Authorization="Basic"),o="".concat(u.serverUrl,"/").concat(u.basePath,"/").concat(t.endpoint),e.next=8,i.a[a](o,"get"!==a&&"delete"!==a?f:{headers:n},{headers:n}).then(function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.status,p=204===a?{data:{},status:null,success:!1,message:""}:{data:""===t.data?[]:t.data,status:"Success"===t.data.message||"OK"===t.data.message?1:0,success:"Success"===t.data.message||"OK"===t.data.message||void 0===t.data.message,message:t.data.message};case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=39;break}if(void 0!==t.response){e.next=7;break}return e.next=4,{success:!1,status:0,message:"Your connection was interrupted",data:null};case 4:p=e.sent,e.next=37;break;case 7:if(401!==t.response.status){e.next=16;break}return e.next=10,{success:!1,status:0,message:t.response.data.message,data:null};case 10:return p=e.sent,e.next=13,Object(d.a)();case 13:window.location.reload(),e.next=37;break;case 16:if(403!==t.response.status){e.next=22;break}return e.next=19,{success:!1,status:2,message:"Access is denied.",data:null};case 19:p=e.sent,e.next=37;break;case 22:if(417!==t.response.status&&404!==t.response.status){e.next=28;break}return e.next=25,{success:!1,status:0,message:"Oops! Something went wrong.",data:null};case 25:p=e.sent,e.next=37;break;case 28:if(void 0===t.response.data){e.next=34;break}return e.next=31,{success:!1,status:0,message:t.response.data.message,data:null};case 31:p=e.sent,e.next=37;break;case 34:return e.next=36,{success:!1,status:2,message:"Sorry, something went wrong.",data:null};case 36:p=e.sent;case 37:e.next=42;break;case 39:return e.next=41,{success:!1,status:2,message:"Your connection was interrupted!",data:null};case 41:p=e.sent;case 42:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:return e.abrupt("return",p);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a={callApi:j,renewTokenHandler:h}},511:function(e,t,a){},513:function(e,t,a){"use strict";var n=a(10),s=a(17),r=a(20),c=a(133),o=a(1),i=a(2),u=a.n(i),l=a(1014),d=a(1013),p=a(96),b=a(14),m=["label","hideIcon","showIcon","visible","className","htmlFor","placeholder","iconSize","inputClassName","invalid"],f=Object(o.forwardRef)((function(e,t){var a,i=e.label,f=e.hideIcon,h=e.showIcon,j=e.visible,x=e.className,O=e.htmlFor,g=e.placeholder,v=e.iconSize,w=e.inputClassName,k=e.invalid,N=Object(c.a)(e,m),y=Object(o.useState)(j),S=Object(r.a)(y,2),E=S[0],C=S[1];return Object(b.jsxs)(o.Fragment,{children:[i?Object(b.jsx)(p.N,{className:"form-label",for:O,children:i}):null,Object(b.jsxs)(p.L,{className:u()((a={},Object(s.a)(a,x,x),Object(s.a)(a,"is-invalid",k),a)),children:[Object(b.jsx)(p.K,Object(n.a)(Object(n.a)({ref:t,invalid:k,type:!1===E?"password":"text",placeholder:g||"\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7",className:u()(Object(s.a)({},w,w))},i&&O?{id:O}:{}),N)),Object(b.jsx)(p.M,{className:"cursor-pointer",onClick:function(){return C(!E)},children:function(){var e=v||14;return!1===E?f||Object(b.jsx)(l.a,{size:e}):h||Object(b.jsx)(d.a,{size:e})}()})]})]})}));t.a=f,f.defaultProps={visible:!1}},518:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d}));var n=a(8),s=a(3),r=a.n(s),c=a(493);function o(e){return i.apply(this,arguments)}function i(){return(i=Object(n.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a={}).method="POST",a.authentication=!1,a.isBasicAuth=!0,a.urlencoded=!0,a.endpoint="authorize",a.body=t,a.multipart=!1,a.state="renewToken",a.grant_type="refresh_token",e.next=12,c.a.callApi(a);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return l.apply(this,arguments)}function l(){return(l=Object(n.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a={}).method="POST",a.authentication=!1,a.isBasicAuth=!1,a.urlencoded=!1,a.endpoint="login",a.body=t,a.multipart=!1,a.state="login",a.grant_type="password",e.next=12,c.a.callApi(a);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return(p=Object(n.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a={}).method="POST",a.authentication=!0,a.isBasicAuth=!1,a.urlencoded=!1,a.endpoint="account/change-password",a.body=t,a.multipart=!1,e.next=10,c.a.callApi(a);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},579:function(e,t){}}]);
//# sourceMappingURL=59.c9efdb76.chunk.js.map